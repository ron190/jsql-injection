<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang=""><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>AbstractModelObservable.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">model</a> &gt; <a href="index.source.html" class="el_package">com.jsql.model</a> &gt; <span class="el_source">AbstractModelObservable.java</span></div><h1>AbstractModelObservable.java</h1><pre class="source lang-java linenums">/*******************************************************************************
 * Copyhacked (H) 2012-2025.
 * This program and the accompanying materials
 * are made available under no term at all, use it like
 * you want, but share and discuss it
 * every time possible with every body.
 * 
 * Contributors:
 *      ron190 at ymail dot com - initial implementation
 ******************************************************************************/
package com.jsql.model;

import com.jsql.model.bean.util.Request;
import com.jsql.model.injection.strategy.blind.AbstractCallableBinary;

import java.util.concurrent.SubmissionPublisher;

/**
 * Define the features of the injection model :&lt;br&gt;
 * - stop the preparation of injection,&lt;br&gt;
 * - Callable for parallelize HTTP tasks,&lt;br&gt;
 * - communication with view, via Observable.
 */
<span class="fc" id="L24">public abstract class AbstractModelObservable extends SubmissionPublisher&lt;Request&gt; {</span>
    
    /**
     * True if user wants to stop preparation.&lt;br&gt;
     * During the preparation, several methods will
     * check if the execution must be stopped.
     */
<span class="fc" id="L31">    protected boolean isStoppedByUser = false;</span>

    /**
     * Function header for the inject() methods, definition needed by call(),
     * dataInjection: SQL query,
     * responseHeader unused,
     * useVisibleIndex false if injection indexes aren't needed,
     * return source page after the HTTP call.
     */
    public abstract String inject(
        String dataInjection,
        boolean isUsingIndex,
        String metadataInjectionProcess,
        AbstractCallableBinary&lt;?&gt; callableBoolean,
        boolean isReport
    );
    
    /**
     * Inject without the need of index like in &quot;select 1,2,...&quot;.&lt;br&gt;
     * Used for example by: first index test (getVisibleIndex), Error test, and Error, Blind, Time strategies.
     * @return source code of current page
     */
    public String injectWithoutIndex(String dataInjection, String metadataInjectionProcess) {
<span class="fc" id="L54">        return this.inject(dataInjection, false, metadataInjectionProcess, null, false);</span>
    }

    public String injectWithoutIndex(String dataInjection, String metadataInjectionProcess, AbstractCallableBinary&lt;?&gt; callableBoolean) {
<span class="fc" id="L58">        return this.inject(dataInjection, false, metadataInjectionProcess, callableBoolean, false);</span>
    }

    public String injectWithIndexes(String dataInjection, String metadataInjectionProcess) {
<span class="fc" id="L62">        return this.inject(dataInjection, true, metadataInjectionProcess, null, false);</span>
    }

    public String getReportWithoutIndex(String dataInjection, String metadataInjectionProcess) {
<span class="fc" id="L66">        return this.inject(dataInjection, false, metadataInjectionProcess, null, true);</span>
    }

    public String getReportWithoutIndex(String dataInjection, String metadataInjectionProcess, AbstractCallableBinary&lt;?&gt; callableBoolean) {
<span class="fc" id="L70">        return this.inject(dataInjection, false, metadataInjectionProcess, callableBoolean, true);</span>
    }

    public String getReportWithIndexes(String dataInjection, String metadataInjectionProcess) {
<span class="fc" id="L74">        return this.inject(dataInjection, true, metadataInjectionProcess, null, true);</span>
    }

    /**
     * Send an interaction message to registered views.
     * @param request The event bean corresponding to the interaction
     */
    public void sendToViews(final Request request) {
<span class="fc" id="L82">        AbstractModelObservable.this.submit(request);</span>
<span class="fc" id="L83">    }</span>

    
    // Getters and setters
    
    public boolean isStoppedByUser() {
<span class="fc" id="L89">        return this.isStoppedByUser;</span>
    }

    public void setIsStoppedByUser(boolean processStopped) {
<span class="fc" id="L93">        this.isStoppedByUser = processStopped;</span>
<span class="fc" id="L94">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.12.202403310830</span></div></body></html>